---
chapter: 9
title: "Chapter 9"
document: "ESP32-C3 Technical Reference Manual"
version: "v1.3"
type: "reference"
source: "docling-pdf-to-markdown"
device: "ESP32-C3"
manufacturer: "Espressif"
---
## Chapter 9

## Low-power Management

## 9.1 Introduction

ESP32-C3 has an advanced Power Management Unit (PMU), which can flexibly power up different power domains of the chip, to achieve the best balance among chip performance, power consumption, and wakeup latency. To simplify power management for typical scenarios, ESP32-C3 has predefined four power modes, which are preset configurations that power up different combinations of power domains. On top of that, the chip also allows the users to independently power up any particular power domain to meet more complex requirements.

## 9.2 Features

ESP32-C3’s low-power management supports the following features:

- Four predefined power modes to simplify power management for typical scenarios
- Up to 8 KB of retention memory
- 8 x 32-bit retention registers
- RTC Boot supported for reduced wakeup latency

In this chapter, we first introduce the working process of ESP32-C3's low-power management, then introduce the predefined power modes of the chip, and at last, introduce the RTC boot of the chip.

## 9.3 Functional Description

ESP32-C3’s low-power management involves the following components:

- Power management unit: controls the power supply to Analog, RTC and Digital power domains.
- Power isolation unit: isolates different power domains, so any powered down power domain does not affect the powered up ones.
- Low-power clocks: provide clocks to power domains working in low-power modes.
- RTC timer: logs the status of the RTC main state machine in dedicated registers.
- 8 x 32-bit "always-on" retention registers: These registers are always powered up and are not affected by any low-power modes, thus can be used for storing data that cannot be lost.
- 6 x "always-on" pins: These pins are always powered up and are not affected by any low-power modes, which makes them suitable for working as wakeup sources when the chip is working in the low-power

modes (for details, please refer to Section 9.4.3), or can be used as regular GPIOs (for details, please refer to Chapter 5 IO MUX and GPIO Matrix (GPIO, IO MUX)).

- RTC fast memory: 8 KB SRAM that works under CPU clock (CPU\_CLK), which can be used as extended memory.
- Voltage regulators: regulate the power supply to different power domains.

The schematic diagram of ESP32-C3's low-power management is shown in Figure 9.3-1 .

![Image](images/09_Chapter_9_img001_ac80b464.png)

Red lines represent power distribution

## Note:

- For more information about different power domains, please check Section 9.4.1 .
- Switches in the above diagram can be controlled by Register RTC\_CNTL\_DIG\_PWC\_REG .
- Signals in the above diagram are described below:
- – xpd\_rtc\_reg:
* When RTC\_CNTL\_REGULATOR\_FORCE\_PU is set to 1, low power voltage regulator is always-on;
* Otherwise, the low power voltage regulator is off when chip enters Light-sleep and Deep-sleep modes. In this case, the RTC domain is powered by an ultra low-power internal power source.
- – xpd\_dig\_reg:
* When RTC\_CNTL\_DG\_WRAP\_PD\_EN is enabled, the digital system voltage regulator is off when the chip enters Light-sleep and Deep-sleep modes;
* Otherwise, the digital system voltage regulator is always-on.

Figure 9.3-1. Low-power Management Schematics

- – xpd\_ex\_crystal:
* When RTC\_CNTL\_XTL\_FORCE\_PU is set to 1, the external main crystal clock is always-on;
* Otherwise, the external main crystal clock is off when chip enters Light-sleep and Deep-sleep modes.
- – xpd\_rc\_oscilator:
* when RTC\_CNTL\_FOSC\_FORCE\_PU is set to 1, the fast RC oscillator is always-on;
* Otherwise, the fast RC oscillator is off when chip enters Light-sleep and Deep-sleep modes.

## 9.3.1 Power Management Unit (PMU)

ESP32-C3's power management unit controls the power supply to different power domains. The main components of the power management unit include:

- RTC main state machine: generates power gating, clock gating, and reset signals.
- Power controllers: power up and power down different power domains, according to the power gating signals from the main state machine.
- Sleep / wakeup controllers: send sleep or wakeup requests to the RTC main state machine.
- Clock controller: selects and powers up/down clock sources.

ESP32-C3

- Protection Timer: controls the transition interval between main state machine states.

In ESP32-C3's power management unit, the sleep / wakeup controllers send sleep or wakeup requests to the RTC main state machine, which then generates power gating, clock gating, and reset signals. Then, the power controller and clock controller power up and power down different power domains and clock sources, according to the signals generated by the RTC main state machine, so that the chip enters or exits the low-power modes. The main workflow is shown in Figure 9.3-2 .

![Image](images/09_Chapter_9_img002_779b80cb.png)

Figure 9.3-2. Power Management Unit Workflow

![Image](images/09_Chapter_9_img003_da53b81e.png)

## Note:

1. Each power domain has its own power controller. For a complete list of all the available power controllers controlling different power domains, please refer to Section 9.4.1 .
2. For a complete list of all the available wakeup sources, please refer to Table 9.4-2 .

## 9.3.2 Low-Power Clocks

In general, ESP32-C3 powers down its external main crystal oscillator XTAL\_CLK and PLL to reduce power consumption when working in low-power modes. During this time, the chip's low-power clocks remain on to provide clocks to low power domains, such as the power management unit.

![Image](images/09_Chapter_9_img004_191be3a4.png)

Figure 9.3-3. RTC Clocks

![Image](images/09_Chapter_9_img005_032e3caa.png)

ESP32-C3

Low-power Clock

This diagram applies to ESP32-S3 and ESP32-C3 and 8684

Figure 9.3-4. Wireless Clock

![Image](images/09_Chapter_9_img006_940b1695.png)

Table 9.3-1. Low-power Clocks

| Clock Type     | Clock Source                       | Selection Signal          | Power Domain                                                                        |
|----------------|------------------------------------|---------------------------|-------------------------------------------------------------------------------------|
| RTC Fast Clock | RC_FAST_CLK divided by n (Default) | RTC_CNTL_FAST_CLK_RTC_SEL | RTC Registers                                                                       |
| RTC Fast Clock | XTAL_DIV_CLK                       | RTC_CNTL_FAST_CLK_RTC_SEL | RTC Registers                                                                       |
| RTC Slow Clock | XTAL32K_CLK                        | RTC_CNTL_ANA_CLK_RTC_SEL  | Power Management System (except RTC registers)                                      |
| RTC Slow Clock | RC_FAST_DIV_CLK                    | RTC_CNTL_ANA_CLK_RTC_SEL  | Power Management System (except RTC registers)                                      |
| RTC Slow Clock | RC_SLOW_CLK (default)              | RTC_CNTL_ANA_CLK_RTC_SEL  | Power Management System (except RTC registers)                                      |
| Wireless Clock | XTAL32K_CLK                        | SYSTEM_LPCLK_SEL_XTAL32K  | Wireless modules (Wi-Fi/BT) in the digital system domain working in low-power modes |
| Wireless Clock | RC_FAST_CLK divided by n           | SYSTEM_LPCLK_SEL_20M      | Wireless modules (Wi-Fi/BT) in the digital system domain working in low-power modes |
| Wireless Clock | RTC_SLOW_CLK                       | SYSTEM_LPCLK_RTC_SLOW     | Wireless modules (Wi-Fi/BT) in the digital system domain working in low-power modes |
| Wireless Clock | XTAL_CLK                           | SYSTEM_LPCLK_SEL_XTAL     | Wireless modules (Wi-Fi/BT) in the digital system domain working in low-power modes |

When working under low-power modes, ESP32-C3's XTAL\_CLK and PLL are usually powered down to reduce power consumption. However, the low-power clock remains on so the chip can operate properly under low-power modes. For more detailed description about clocks, please refer to 6 Reset and Clock .

## 9.3.3 Timers

ESP32-C3's low-power management uses RTC timer. The readable 48-bit RTC timer is a real-time counter (using RTC slow clock) that can be configured to log the time when one of the following events happens. For details, see Table 9.3-2 .

Table 9.3-2. The Triggering Conditions for the RTC Timer

| Enabling Options   | Descriptions   |
|--------------------|----------------|

| RTC_CNTL_TIMER_XTL_OFF   | 1. RTC main state machine powers down; 2. 40 MHz crystal powers up.                         |
|--------------------------|---------------------------------------------------------------------------------------------|
| RTC_CNTL_TIMER_SYS_STALL | CPU enters or exits the stall state. This is to ensure the SYS_TIMER is continuous in time. |
| RTC_CNTL_TIMER_SYS_RST   | Resetting digital system completes.                                                         |
| RTC_CNTL_TIME_UPDATE     | Register RTC_CNTL_TIME_UPDATE is configured by CPU (i.e. users).                            |

The RTC timer updates two groups of registers upon any new trigger. The first group logs the time of the current trigger, and the other logs the previous trigger. Detailed information about these two register groups is shown below:

- Register group 0: logs the status of RTC timer at the current trigger.
- – RTC\_CNTL\_TIME\_HIGH0\_REG
- – RTC\_CNTL\_TIME\_LOW0\_REG
- Register group 1: logs the status of RTC timer at the previous trigger.
- – RTC\_CNTL\_TIME\_HIGH1\_REG
- – RTC\_CNTL\_TIME\_LOW1\_REG

On a new trigger, information on previous trigger is moved from register group 0 to register group 1 (and the original trigger logged in register group 1 is overwritten), and this new trigger is logged in register group 0. Therefore, only the last two triggers can be logged at any time.

It should be noted that any reset / sleep other than power-up reset will not stop or reset the RTC timer.

Also, the RTC timer can be used as a wakeup source. For details, see Section 9.4.3 .

## 9.3.4 Voltage Regulators

ESP32-C3 has two regulators to maintain a constant power supply voltage to different power domains:

- Digital system voltage regulator for digital power domains;
- Low-power voltage regulator for RTC power domains;

## Note:

For more detailed description about power domains, please refer to Section 9.4.1 .

## 9.3.4.1 Digital System Voltage Regulator

ESP32-C3's built-in digital system voltage regulator converts the external power supply (typically 3.3 V) to 1.1 V for digital power domains. This regulator is controlled by the xpd\_dig\_reg signal. For details, see description in 9.3-1. For the architecture of the ESP32-C3 digital system voltage regulator, see Figure 9.3-5 .

VREF

VREF -

+

+

1.1V

1.1V

Digital System

RTC

VDD3P3\_RTC

Figure 9.3-5. Digital System Regulator

![Image](images/09_Chapter_9_img007_2867b108.png)

## 9.3.4.2 Low-power Voltage Regulator

ESP32-C3's built-in low-power voltage regulator converts the external power supply (typically 3.3 V) to 1.1 V for RTC power domains. Note when the pin CHIP\_PU is at a high level, the low-power voltage regulator cannot be turned off. Otherwise, the low power voltage regulator is off when chip enters Light-sleep and Deep-sleep modes. In this case, the RTC domain is powered by an ultra low-power internal power source.

For the architecture of the ESP32-C3 low-power voltage regulator, see Figure 9.3-6 .

Figure 9.3-6. Low-power voltage regulator

![Image](images/09_Chapter_9_img008_42a552bb.png)

## 9.3.4.3 Brownout Detector

The brownout detector checks the voltage of pins VDD3P3\_RTC, VDD3P3\_CPU, VDDA1, and VDDA2. If the voltage of these pins drops below the predefined threshold (2.7 V by default), the detector would trigger a signal to shut down some power-consuming blocks (such as LNA, PA, etc.) to allow extra time for the digital system to save and transfer important data.

RTC\_CNTL\_BROWN\_OUT\_DET indicates the output level of brown-out detector. This register is low level by

VREF

+

default, and outputs high level when the voltage of the detected pin drops below the predefined threshold. \_ comp detected

VDDA1

RTC\_CNTL\_BROWN\_OUT\_RST\_SEL configures the reset type. For more information regarding chip reset and system reset, please refer to 6 Reset and Clock .

- 0: resets the chip
- 1: resets the system

The brownout detector has ultra-low power consumption and remains enabled whenever the chip is powered up. For the architecture of the ESP32-C3 brownout detector, see Figure 9.3-7 .

Figure 9.3-7. Brown-out detector

![Image](images/09_Chapter_9_img009_412be7a5.png)

## 9.4 Power Modes Management

## 9.4.1 Power Domain

ESP32-C3 has 9 power domains in three power domain categories:

- RTC
- – Power management unit (PMU), including RTC timer, fast memory, Always-on registers
- Digital
- – PD peripherals, including SPI2, GDMA, SHA, RSA, AES, HMAC, DS, Secure Boot
- – Digital system
- – Wireless digital circuits
- – CPU
- Analog
- – RC\_FAST\_CLK
- – XTAL\_CLK
- – PLL
- – RF circuits

## 9.4.2 Pre-defined Power Modes

As mentioned earlier, ESP32-C3 has four power modes, which are predefined configurations that power up different combinations of power domains. For details, please refer to Table 9.4-1 .

Table 9.4-1. Predefined Power Modes

|             | Power Domain   | Power Domain   | Power Domain   | Power Domain              | Power Domain   | Power Domain   | Power Domain   | Power Domain   | Power Domain   |
|-------------|----------------|----------------|----------------|---------------------------|----------------|----------------|----------------|----------------|----------------|
| Power Mode  | PMU            | PD Peripherals | Digital System | Wireless Digital Circuits | CPU            | FOSC_ CLK      | XTAL_ CLK      | PLL            | RF Circuits    |
| Active      | ON             | ON             | ON             | ON                        | ON             | ON             | ON             | ON             | ON             |
| Modem-sleep | ON             | ON             | ON             | ON *                      | ON             | ON             | ON             | ON             | OFF            |
| Light-sleep | ON             | ON             | ON             | OFF *                     | OFF *          | OFF *          | OFF            | OFF            | OFF            |
| Deep-sleep  | ON             | OFF            | OFF            | OFF                       | OFF            | OFF            | OFF            | OFF            | OFF            |

By default, ESP32-C3 first enters the Modem-sleep mode after a system reset and can be configured to Active mode when transmitting or receiving packets. After the CPU stalls for a while, the chip can enter different low-power modes (including Modem-sleep, Light-sleep, and Deep-sleep) to save power. From Active to Deep-sleep, the number of available functionalities 1 and power consumption 2 decreases and wakeup latency increases. Also, the supported wakeup sources for different power modes are different 3 . Users can choose a power mode based on their requirements of functionality, power consumption, wakeup latency, and available wakeup sources.

## Note:

1. For details, please refer to Table 9.4-1 .
2. For details on power consumption, please refer to the Current Consumption Characteristics in ESP32-C3 Datasheet
3. For details on the supported wakeup sources, please refer to Section 9.4.3 .

## 9.4.3 Wakeup Source

The ESP32-C3 supports various wakeup sources, which could wake up the CPU in different sleep modes. The wakeup source is determined by RTC\_CNTL\_WAKEUP\_ENA as shown in Table 9.4-2 .

.

Table 9.4-2. Wakeup Source

| WAKEUP_ENA   | Wakeup Source 5   | Light-sleep   | Deep-sleep   |
|--------------|-------------------|---------------|--------------|
| 0x4          | GPIO 1            | Y             | Y            |
| 0x8          | RTC Timer         | Y             | Y            |
| 0x20         | Wi-Fi 2           | Y             | -            |
| 0x40         | UART03            | Y             | -            |
| 0x80         | UART1 3           | Y             | -            |
| 0x400        | Bluetooth         | Y             | -            |
| 0x1000       | XTAL32K_CLK 4     | Y             | Y            |

- 3 A wakeup is triggered when the number of RX pulses received exceeds the setting in the threshold register UART\_SLEEP\_CONF\_REG. For details, please refer to Chapter 26 UART Controller (UART) .
- 4 When the 32 kHz crystal is working as RTC slow clock, a wakeup is triggered upon any detection of any crystal stop by the 32 kHz watchdog timer.
- 5 All wakeup sources can also be configured as the causes to reject sleep, except UART.

## 9.4.4 Reject Sleep

ESP32-C3 implements a hardware mechanism that equips the chip with the ability to reject to sleep, which prevents the chip from going to sleep unexpectedly when some peripherals are still working but not detected by the CPU, thus guaranteeing the proper functioning of the peripherals.

All the wakeup sources specified in Table 9.4-2 (except UART) can also be configured as the causes to reject sleep.

Users can configure the reject to sleep option via the following registers.

- Configure the RTC\_CNTL\_SLEEP\_REJECT\_ENA field to enable or disable the option to reject to sleep:
- – Set RTC\_CNTL\_LIGHT\_SLP\_REJECT\_EN to enable reject-to-light-sleep.
- – Set RTC\_CNTL\_DEEP\_SLP\_REJECT\_EN to enable reject-to-deep-sleep.
- Read RTC\_CNTL\_SLP\_REJECT\_CAUSE\_REG to check the reason for rejecting to sleep.

## 9.5 Retention DMA

ESP32-C3 can power off the CPU in Light\_sleep mode to further reduce the power consumption. To facilitate the CPU to wake up from light\_sleep and resume execution from the previous breakpoint, ESP32-C3

introduced a retention module.

ESP32-C3's retention module stores CPU information to the Internal SRAM Block9 to Block12 before CPU enters into sleep, and restore such information from Internal SRAM to CPU after CPU wakes up from sleep, thus enabling the CPU to resume execution from the previous breakpoint.

## ESP32-C3’s Retention DMA:

- Retention DMA operates 128-bit wide data, and only supports address alignment of four words.
- Retention DMA's link list is specifically designed that it can be used to execute both write and read transactions. The configuration of Retention DMA is similar to that of GDMA:
1. First allocate enough memory in SRAM before CPU enters sleep to store 432 words * : CPU registers (428 words) and configuration information (4 words).
2. Then configure the link list according to the memory allocated in the first step. See details in Chapter 2 GDMA Controller (GDMA) .

## Note:

* Note that if the memory allocated is smaller than 432 words, then chip can only enter the Light\_sleep mode and cannot further power down CPU.

After configuration, users can enable the Retention function by configuring the RTC\_CNTL\_RETENTION\_EN field in Register RTC\_CNTL\_RETENTION\_CTRL\_REG to:

- Use Retention DMA to store CPU information before the chip enters sleep
- Restore information from Retention DMA to CPU after CPU wakes up.

## 9.6 RTC Boot

The wakeup time from Deep-sleep is much longer, compared to the Light-sleep and Modem-sleep, because the ROMs and RAMs are both powered down in this case, and the CPU needs more time for SPI booting. However, it's worth noting that the RTC fast memory remains powered up in the Deep-sleep mode. Therefore, users can store code (so called "deep sleep wake stub" of up to 8 KB) in the RTC fast memory to avoid the above-mentioned SPI booting, thus speeding up the wakeup process. To use this function, see steps described below:

1. Set RTC\_CNTL\_STAT\_VECTOR\_SEL\_PROCPU to 1.
2. Calculate CRC for the RTC fast memory, and save the result in RTC\_CNTL\_STORE7\_REG[31:0] .
3. Set RTC\_CNTL\_STORE6\_REG[31:0] to the entry address of RTC fast memory.
4. Send the chip into sleep.
5. SPI boot and some of the initialization starts after the CPU is powered up. After that, calculate the CRC for the RTC fast memory again. If the result matches with register RTC\_CNTL\_STORE7\_REG[31:0], the CPU jumps to the entry address.

The boot flow after ESP32-C3 wakeup is shown in Figure 9.6-1 .

reset\_vector@

0x40000400

Initialization

Cal CRC in fast RTC mem

CRC right

Yes

Yes:

Jump to entry

RTC fast mem point in

Running in RTC fast mem

Return?

No

SPI Boot

Run code in

CPU RAM

Running in CPU RAM

Figure 9.6-1. ESP32-C3 Boot Flow

![Image](images/09_Chapter_9_img010_b87c4048.png)

## 9.7 Register Summary

The addresses in this section are relative to low-power management base address provided in Table 3.3-3 in Chapter 3 System and Memory .

The abbreviations given in Column Access are explained in Section Access Types for Registers .

| Name                         | Description                                                                       | Address   | Access   |
|------------------------------|-----------------------------------------------------------------------------------|-----------|----------|
| RTC_CNTL_OPTIONS0_REG        | Sets the power options of crystal and PLL clocks, and initiates reset by software | 0x0000    | Varies   |
| RTC_CNTL_SLP_TIMER0_REG      | RTC timer threshold register 0                                                    | 0x0004    | R/W      |
| RTC_CNTL_SLP_TIMER1_REG      | RTC timer threshold register 1                                                    | 0x0008    | varies   |
| RTC_CNTL_TIME_UPDATE_REG     | RTC timer update control register                                                 | 0x000C    | varies   |
| RTC_CNTL_TIME_LOW0_REG       | Stores the lower 32 bits of RTC timer 0                                           | 0x0010    | RO       |
| RTC_CNTL_TIME_HIGH0_REG      | Stores the higher 16 bits of RTC timer 0                                          | 0x0014    | RO       |
| RTC_CNTL_STATE0_REG          | Configures the sleep / reject / wakeup state                                      | 0x0018    | varies   |
| RTC_CNTL_TIMER1_REG          | Configures CPU stall options                                                      | 0x001C    | R/W      |
| RTC_CNTL_TIMER2_REG          | Configures RTC slow clock and touch con troller                                  | 0x0020    | R/W      |
| RTC_CNTL_TIMER5_REG          | Configures the minimal sleep cycles                                               | 0x002C    | R/W      |
| RTC_CNTL_ANA_CONF_REG        | Configures the power options for I2C and PLLA                                     | 0x0034    | R/W      |
| RTC_CNTL_RESET_STATE_REG     | Indicates the CPU reset source                                                    | 0x0038    | varies   |
| RTC_CNTL_WAKEUP_STATE_REG    | Wakeup bitmap enabling registerfi                                                 | 0x003C    | R/W      |
| RTC_CNTL_INT_ENA_RTC_REG     | RTC interrupt enabling register                                                   | 0x0040    | R/W      |
| RTC_CNTL_INT_RAW_RTC_REG     | RTC interrupt raw register                                                        | 0x0044    | RO       |
| RTC_CNTL_INT_ST_RTC_REG      | RTC interrupt state register                                                      | 0x0048    | RO       |
| RTC_CNTL_INT_CLR_RTC_REG     | RTC interrupt clear register                                                      | 0x004C    | WO       |
| RTC_CNTL_STORE0_REG          | Reservation register 0                                                            | 0x0050    | R/W      |
| RTC_CNTL_STORE1_REG          | Reservation register 1                                                            | 0x0054    | R/W      |
| RTC_CNTL_STORE2_REG          | Reservation register 2                                                            | 0x0058    | R/W      |
| RTC_CNTL_STORE3_REG          | Reservation register 3                                                            | 0x005C    | R/W      |
| RTC_CNTL_EXT_XTL_CONF_REG    | 32 kHz crystal oscillator configuration register                                  | 0x0060    | varies   |
| RTC_CNTL_EXT_WAKEUP_CONF_REG | GPIO wakeup configuration register                                                | 0x0064    | R/W      |
| RTC_CNTL_SLP_REJECT_CONF_REG | Configures sleep / reject options                                                 | 0x0068    | R/W      |
| RTC_CNTL_CLK_CONF_REG        | RTC timer configuration register                                                  | 0x0070    | R/W      |
| RTC_CNTL_SLOW_CLK_CONF_REG   | RTC slow clock configuration register                                             | 0x0074    | R/W      |
| RTC_CNTL_REG                 | RTC configuration register                                                        | 0x0080    | R/W      |
| RTC_CNTL_PWC_REG             | RTC power configuration register                                                  | 0x0084    | R/W      |
| RTC_CNTL_DIG_PWC_REG         | Digital system power configuration register                                       | 0x0088    | R/W      |
| RTC_CNTL_DIG_ISO_REG         | Digital system isolation configuration register                                   | 0x008C    | varies   |
| RTC_CNTL_WDTCONFIG0_REG      | RTC watchdog configuration register                                               | 0x0090    | R/W      |
| RTC_CNTL_WDTCONFIG1_REG      | Configures the hold time of RTC watchdog at level 1                               | 0x0094    | R/W      |

| Name                            | Description                                                              | Address   | Access   |
|---------------------------------|--------------------------------------------------------------------------|-----------|----------|
| RTC_CNTL_WDTCONFIG2_REG         | Configures the hold time of RTC watchdog at level 2                      | 0x0098    | R/W      |
| RTC_CNTL_WDTCONFIG3_REG         | Configures the hold time of RTC watchdog at level 3                      | 0x009C    | R/W      |
| RTC_CNTL_WDTCONFIG4_REG         | Configures the hold time of RTC watchdog at level 4                      | 0x00A0    | R/W      |
| RTC_CNTL_WDTFEED_REG            | RTC watchdog SW feed configuration register                              | 0x00A4    | WO       |
| RTC_CNTL_WDTWPROTECT_REG        | RTC watchdog write protection configuration register                     | 0x00A8    | R/W      |
| RTC_CNTL_SWD_CONF_REG           | Super watchdog configuration register                                    | 0x00AC    | varies   |
| RTC_CNTL_SWD_WPROTECT_REG       | Super watchdog write protection configura tion register                 | 0x00B0    | R/W      |
| RTC_CNTL_SW_CPU_STALL_REG       | CPU stall configuration register                                         | 0x00B4    | R/W      |
| RTC_CNTL_STORE4_REG             | Reservation register 4                                                   | 0x00B8    | R/W      |
| RTC_CNTL_STORE5_REG             | Reservation register 5                                                   | 0x00BC    | R/W      |
| RTC_CNTL_STORE6_REG             | Reservation register 6                                                   | 0x00C0    | R/W      |
| RTC_CNTL_STORE7_REG             | Reservation register 7                                                   | 0x00C4    | R/W      |
| RTC_CNTL_LOW_POWER_ST_REG       | RTC main state machine state register                                    | 0x00C8    | RO       |
| RTC_CNTL_PAD_HOLD_REG           | Configures the hold options for RTC GPIOs                                | 0x00D0    | R/W      |
| RTC_CNTL_DIG_PAD_HOLD_REG       | Configures the hold options for digital GPIOs                            | 0x00D4    | R/W      |
| RTC_CNTL_BROWN_OUT_REG          | Brownout configuration register                                          | 0x00D8    | varies   |
| RTC_CNTL_TIME_LOW1_REG          | Stores the lower 32 bits of RTC timer 1                                  | 0x00DC    | RO       |
| RTC_CNTL_TIME_HIGH1_REG         | Stores the higher 16 bits of RTC timer 1                                 | 0x00E0    | RO       |
| RTC_CNTL_XTAL32K_CLK_FACTOR_REG | Configures the divider for the backup clock of 32 kHz crystal oscillator | 0x00E4    | R/W      |
| RTC_CNTL_XTAL32K_CONF_REG       | 32 kHz crystal oscillator configuration register                         | 0x00E8    | R/W      |
| RTC_CNTL_USB_CONF_REG           | IO_MUX configuration register                                            | 0x00EC    | R/W      |
| RTC_CNTL_SLP_REJECT_CAUSE_REG   | Stores the reject-to-sleep cause                                         | 0x00F0    | RO       |
| RTC_CNTL_OPTION1_REG            | RTC option register                                                      | 0x00F4    | R/W      |
| RTC_CNTL_SLP_WAKEUP_CAUSE_REG   | Stores the sleep-to-wakeup cause                                         | 0x00F8    | RO       |
| RTC_CNTL_INT_ENA_RTC_W1TS_REG   | RTC RTC interrupt enabling register (W1TS)                               | 0x0100    | WO       |
| RTC_CNTL_INT_ENA_RTC_W1TC_REG   | RTC RTC interrupt clear register (W1TC)                                  | 0x0104    | WO       |
| RTC_CNTL_RETENTION_CTRL_REG     | Retention configuration register                                         | 0x0108    | R/W      |
| RTC_CNTL_GPIO_WAKEUP_REG        | GPIO wakeup configuration register                                       | 0x0110    | varies   |
| RTC_CNTL_SENSOR_CTRL_REG        | SAR ADC control register                                                 | 0x011C    | R/W      |

## 9.8 Registers

The addresses in this section are relative to low-power management base address provided in Table 3.3-3 in Chapter 3 System and Memory .

Register 9.1. RTC\_CNTL\_OPTIONS0\_REG (0x0000)

![Image](images/09_Chapter_9_img011_db951c24.png)

RTC\_CNTL\_SW\_STALL\_PROCPU\_C0 When RTC\_CNTL\_SW\_STALL\_PROCPU\_C1 is configured to 0x21, setting this bit to 0x2 stalls the CPU by SW. (R/W)

RTC\_CNTL\_SW\_PROCPU\_RST Set this bit to reset the CPU by SW. (WO)

RTC\_CNTL\_BB\_I2C\_FORCE\_PD Set this bit to FPD BB\_I2C. (R/W)

RTC\_CNTL\_BB\_I2C\_FORCE\_PU Set this bit to FPU BB\_I2C. (R/W)

RTC\_CNTL\_BBPLL\_I2C\_FORCE\_PD Set this bit to FPD BB\_PLL\_I2C. (R/W)

RTC\_CNTL\_BBPLL\_I2C\_FORCE\_PU Set this bit to FPU BB\_PLL\_I2C. (R/W)

RTC\_CNTL\_BBPLL\_FORCE\_PD Set this bit to FPD BB\_PLL. (R/W)

RTC\_CNTL\_BBPLL\_FORCE\_PU Set this bit to FPU BB\_PLL. (R/W)

RTC\_CNTL\_XTL\_FORCE\_PD Set this bit to FPD the crystal oscillator. (R/W)

RTC\_CNTL\_XTL\_FORCE\_PU Set this bit to FPU the crystal oscillator. (R/W)

RTC\_CNTL\_DG\_WRAP\_FORCE\_RST Set this bit to force reset the digital system in deep-sleep. (R/W)

RTC\_CNTL\_DG\_WRAP\_FORCE\_NORST Set this bit to disable force reset to digital system in deepsleep. (R/W)

RTC\_CNTL\_SW\_SYS\_RST Set this bit to reset the system via SW. (WO)

Register 9.2. RTC\_CNTL\_SLP\_TIMER0\_REG (0x0004)

![Image](images/09_Chapter_9_img012_510c09fa.png)

RTC\_CNTL\_SLP\_VAL\_LO Sets the lower 32 bits of the trigger threshold for the RTC timer. (R/W)

Register 9.3. RTC\_CNTL\_SLP\_TIMER1\_REG (0x0008)

![Image](images/09_Chapter_9_img013_8fef4a48.png)

RTC\_CNTL\_SLP\_VAL\_HI Sets the higher 16 bits of the trigger threshold for the RTC timer. (R/W) RTC\_CNTL\_MAIN\_TIMER\_ALARM\_EN Sets this bit to enable the timer alarm. (WO)

Register 9.4. RTC\_CNTL\_TIME\_UPDATE\_REG (0x000C)

![Image](images/09_Chapter_9_img014_60457850.png)

RTC\_CNTL\_TIMER\_SYS\_STALL Selects the triggering condition for the RTC timer. (R/W)

RTC\_CNTL\_TIMER\_XTL\_OFF Selects the triggering condition for the RTC timer. (R/W)

RTC\_CNTL\_TIMER\_SYS\_RST Selects the triggering condition for the RTC timer. (R/W)

RTC\_CNTL\_TIME\_UPDATE Selects the triggering condition for the RTC timer. (WO)

![Image](images/09_Chapter_9_img015_b3fa6bcd.png)

RTC\_CNTL\_TIMER\_VALUE0\_HIGH Stores the higher 16 bits of RTC timer 0. (RO)

## Register 9.7. RTC\_CNTL\_STATE0\_REG (0x0018)

![Image](images/09_Chapter_9_img016_61081d04.png)

RTC\_CNTL\_SW\_CPU\_INT Sends a SW RTC interrupt to CPU. (WO)

RTC\_CNTL\_SLP\_REJECT\_CAUSE\_CLR Clears the RTC reject-to-sleep cause. (WO)

RTC\_CNTL\_APB2RTC\_BRIDGE\_SEL 1: APB to RTC using bridge (R/W)

RTC\_CNTL\_SLP\_WAKEUP Sleep wakeup bit. (R/W)

RTC\_CNTL\_SLP\_REJECT Sleep reject bit. (R/W)

RTC\_CNTL\_SLEEP\_EN Sends the chip to sleep. (R/W)

## Register 9.8. RTC\_CNTL\_TIMER1\_REG (0x001C)

![Image](images/09_Chapter_9_img017_555c2a61.png)

RTC\_CNTL\_CPU\_STALL\_EN Enables the CPU stalling. (R/W)

RTC\_CNTL\_CPU\_STALL\_WAIT Sets the CPU stall waiting cycles (using the RTC fast clock). (R/W)

RTC\_CNTL\_FOSC\_WAIT Sets the FOSC clock waiting cycles (using the RTC slow clock). (R/W)

RTC\_CNTL\_XTL\_BUF\_WAIT Sets the XTAL waiting cycles (using the RTC slow clock). (R/W)

RTC\_CNTL\_PLL\_BUF\_WAIT Sets the PLL waiting cycles (using the RTC slow clock). (R/W)

Register 9.9. RTC\_CNTL\_TIMER2\_REG (0x0020)

![Image](images/09_Chapter_9_img018_1ce402b7.png)

RTC\_CNTL\_MIN\_SLP\_VAL Sets the minimal sleep cycles (using the RTC slow clock). (R/W)

## Register 9.11. RTC\_CNTL\_ANA\_CONF\_REG (0x0034)

![Image](images/09_Chapter_9_img019_cc8b7600.png)

RTC\_CNTL\_RESET\_POR\_FORCE\_PD Set this bit to force not bypass I2C power-on reset. (R/W)

RTC\_CNTL\_RESET\_POR\_FORCE\_PU Set this bit to force bypass I2C power-on reset. (R/W)

RTC\_CNTL\_GLITCH\_RST\_EN Set this bit to enable reset when the system detects a glitch. (R/W)

RTC\_CNTL\_SAR\_I2C\_PU Set this bit to FPU the SAR\_I2C. (R/W)

RTC\_CNTL\_TXRF\_I2C\_PU Set this bit to PU TXRF\_I2C. (R/W)

RTC\_CNTL\_RFRX\_PBUS\_PU Set this bit to PU RFRX\_PBUS. (R/W)

RTC\_CNTL\_CKGEN\_I2C\_PU Set this bit to PU CKGEN\_I2C. (R/W)

RTC\_CNTL\_PLL\_I2C\_PU Set this bit to PU PLL I2C. (R/W)

Register 9.12. RTC\_CNTL\_RESET\_STATE\_REG (0x0038)

![Image](images/09_Chapter_9_img020_897cb1fe.png)

RTC\_CNTL\_RESET\_CAUSE\_PROCPU Stores the CPU reset cause. (RO)

RTC\_CNTL\_STAT\_VECTOR\_SEL\_PROCPU Selects the CPU static vector. (R/W)

RTC\_CNTL\_ALL\_RESET\_FLAG\_PROCPU Indicates the CPU reset flag. (RO)

RTC\_CNTL\_ALL\_RESET\_FLAG\_CLR\_PROCPU Clears the CPU reset flag. (WO)

RTC\_CNTL\_OCD\_HALT\_ON\_RESET\_PROCPU Set this bit to send CPU into halt state upon CPU reset. (R/W)

RTC\_CNTL\_JTAG\_RESET\_FLAG\_PROCPU Indicates the JTAG reset flag. (RO)

RTC\_CNTL\_JTAG\_RESET\_FLAG\_CLR\_PROCPU Sets the JTAG reset flag. (WO)

RTC\_CNTL\_DRESET\_MASK\_PROCPU Set this bit to bybass D-reset. (R/W)

## Register 9.13. RTC\_CNTL\_WAKEUP\_STATE\_REG (0x003C)

![Image](images/09_Chapter_9_img021_6d8de260.png)

RTC\_CNTL\_WAKEUP\_ENA Selects the wakeup source. For details, please refer to Table 9.4-2 . (R/W)

## Register 9.14. RTC\_CNTL\_INT\_ENA\_RTC\_REG (0x0040)

![Image](images/09_Chapter_9_img022_e22f5232.png)

RTC\_CNTL\_SLP\_WAKEUP\_INT\_ENA Enables interrupts when chip wakes up from sleep. (R/W)

RTC\_CNTL\_SLP\_REJECT\_INT\_ENA Enables interrupts when chip rejects to go to sleep. (R/W)

RTC\_CNTL\_WDT\_INT\_ENA Enables the RTC watchdog interrupt. (R/W)

RTC\_CNTL\_BROWN\_OUT\_INT\_ENA Enables the brown-out interrupt. (R/W)

RTC\_CNTL\_MAIN\_TIMER\_INT\_ENA Enables the RTC timer interrupt. (R/W)

RTC\_CNTL\_SWD\_INT\_ENA Enables the super watchdog interrupt. (R/W)

RTC\_CNTL\_XTAL32K\_DEAD\_INT\_ENA Enables interrupts when the XTAL32K is dead. (R/W)

RTC\_CNTL\_GLITCH\_DET\_INT\_ENA Enables interrupts when a glitch is detected. (R/W)

RTC\_CNTL\_BBPLL\_CAL\_INT\_ENA Enables interrupts upon the ending of a bb\_pll call. (R/W)

## Register 9.15. RTC\_CNTL\_INT\_RAW\_RTC\_REG (0x0044)

![Image](images/09_Chapter_9_img023_73a80b8a.png)

RTC\_CNTL\_SLP\_WAKEUP\_INT\_RAW Stores the raw interrupt triggered when the chip wakes up from sleep. (RO)

RTC\_CNTL\_SLP\_REJECT\_INT\_RAW Stores the raw interrupt triggered when the chip rejects to go to sleep. (RO)

RTC\_CNTL\_WDT\_INT\_RAW Stores the raw watchdog interrupt. (RO)

RTC\_CNTL\_BROWN\_OUT\_INT\_RAW Stores the raw brownout interrupt. (RO)

RTC\_CNTL\_MAIN\_TIMER\_INT\_RAW Stores the raw RTC main timer interrupt. (RO)

RTC\_CNTL\_SWD\_INT\_RAW Stores the raw super watchdog interrupt. (RO)

RTC\_CNTL\_XTAL32K\_DEAD\_INT\_RAW Stores the raw interrupt triggered when the XTAL32K is dead. (RO)

RTC\_CNTL\_GLITCH\_DET\_INT\_RAW Stores the raw interrupt triggered when a glitch is detected. (RO)

RTC\_CNTL\_BBPLL\_CAL\_INT\_RAW Stores the raw interrupt upon the ending of a bb\_pll call. (RO)

Register 9.16. RTC\_CNTL\_INT\_ST\_RTC\_REG (0x0048)

![Image](images/09_Chapter_9_img024_8f518c5b.png)

- RTC\_CNTL\_SLP\_WAKEUP\_INT\_ST Stores the status of the interrupt triggered when the chip wakes up from sleep. (RO)
- RTC\_CNTL\_SLP\_REJECT\_INT\_ST Stores the status of the interrupt triggered when the chip rejects to go to sleep. (RO)

RTC\_CNTL\_WDT\_INT\_ST Stores the status of the RTC watchdog interrupt. (RO)

RTC\_CNTL\_BROWN\_OUT\_INT\_ST Stores the status of the brownout interrupt. (RO)

RTC\_CNTL\_MAIN\_TIMER\_INT\_ST Stores the status of the RTC main timer interrupt. (RO)

RTC\_CNTL\_SWD\_INT\_ST Stores the status of the super watchdog interrupt. (RO)

RTC\_CNTL\_XTAL32K\_DEAD\_INT\_ST Stores the status of the interrupt triggered when the XTAL32K is dead. (RO)

RTC\_CNTL\_GLITCH\_DET\_INT\_ST Stores the status of the interrupt triggered when a glitch is detected. (RO)

- RTC\_CNTL\_BBPLL\_CAL\_INT\_ST Stores the status of the interrupt triggered upon the ending of a bbpll call. (RO)

## Register 9.17. RTC\_CNTL\_INT\_CLR\_RTC\_REG (0x004C)

![Image](images/09_Chapter_9_img025_5917c83d.png)

RTC\_CNTL\_SLP\_WAKEUP\_INT\_CLR Clears the interrupt triggered when the chip wakes up from sleep. (WO)

RTC\_CNTL\_SLP\_REJECT\_INT\_CLR Clears the interrupt triggered when the chip rejects to go to sleep. (WO)

RTC\_CNTL\_WDT\_INT\_CLR Clears the RTC watchdog interrupt. (WO)

RTC\_CNTL\_BROWN\_OUT\_INT\_CLR Clears the brownout interrupt. (WO)

RTC\_CNTL\_MAIN\_TIMER\_INT\_CLR Clears the RTC main timer interrupt. (WO)

RTC\_CNTL\_SWD\_INT\_CLR Clears the super watchdog interrupt. (WO)

RTC\_CNTL\_XTAL32K\_DEAD\_INT\_CLR Clears the RTC watchdog interrupt. (WO)

RTC\_CNTL\_GLITCH\_DET\_INT\_CLR Clears the interrupt triggered when a glitch is detected. (WO)

RTC\_CNTL\_BBPLL\_CAL\_INT\_CLR Clears the interrupt triggered upon the ending of a bbpll call. (WO)

## Register 9.18. RTC\_CNTL\_STORE0\_REG (0x0050)

![Image](images/09_Chapter_9_img026_5b9d4731.png)

## Register 9.19. RTC\_CNTL\_STORE1\_REG (0x0054)

RTC\_CNTL\_SCRATCH1

![Image](images/09_Chapter_9_img027_dc8a4238.png)

RTC\_CNTL\_SCRATCH1 Reservation register 1. (R/W)

## Register 9.20. RTC\_CNTL\_STORE2\_REG (0x0058)

RTC\_CNTL\_SCRATCH2

![Image](images/09_Chapter_9_img028_2b10ea06.png)

RTC\_CNTL\_SCRATCH2 Reservation register 2. (R/W)

## Register 9.21. RTC\_CNTL\_STORE3\_REG (0x005C)

![Image](images/09_Chapter_9_img029_6eac61a0.png)

RTC\_CNTL\_SCRATCH3 Reservation register 3. (R/W)

Register 9.22. RTC\_CNTL\_EXT\_XTL\_CONF\_REG (0x0060)

![Image](images/09_Chapter_9_img030_4dd04959.png)

RTC\_CNTL\_XTAL32K\_WDT\_EN Set this bit to enable the XTAL32K watchdog. (R/W)

RTC\_CNTL\_XTAL32K\_WDT\_CLK\_FO Set this bit to FPU the XTAL32K watchdog clock. (R/W)

RTC\_CNTL\_XTAL32K\_WDT\_RESET Set this bit to reset the XTAL32K watchdog by SW. (R/W)

RTC\_CNTL\_XTAL32K\_EXT\_CLK\_FO Set this bit to FPU the external clock of XTAL32K. (R/W)

RTC\_CNTL\_XTAL32K\_AUTO\_BACKUP Set this bit to switch to the backup clock when the XTAL32K is dead. (R/W)

RTC\_CNTL\_XTAL32K\_AUTO\_RESTART Set this bit to restart the XTAL32K automatically when the XTAL32K is dead. (R/W)

RTC\_CNTL\_XTAL32K\_AUTO\_RETURN Set this bit to switch back to XTAL32K when the XTAL32K is restarted. (R/W)

RTC\_CNTL\_XTAL32K\_XPD\_FORCE Set this bit to allow the software to FPD the XTAL32K; Reset this bit to allow the FSM to FPD the XTAL32K. (R/W)

RTC\_CNTL\_ENCKINIT\_XTAL\_32K Set this bit to apply an internal clock to help the XTAL32K to start. (R/W)

RTC\_CNTL\_DBUF\_XTAL\_32K 0: single-end buffer 1: differential buffer. (R/W)

RTC\_CNTL\_DGM\_XTAL\_32K Configures the xtal\_32k gm control. (R/W)

RTC\_CNTL\_DRES\_XTAL\_32K Configures DRES\_XTAL\_32K. (R/W)

RTC\_CNTL\_XPD\_XTAL\_32K Configures XPD\_XTAL\_32K. (R/W)

RTC\_CNTL\_DAC\_XTAL\_32K Configures DAC\_XTAL\_32K. (R/W)

RTC\_CNTL\_WDT\_STATE Indicates the 32 kHz watchdog timer state. (RO)

- RTC\_CNTL\_XTAL32K\_GPIO\_SEL Set this bit to select the XTAL32K. Clear this bit to select external XTAL32K. (R/W)

Register 9.23. RTC\_CNTL\_EXT\_WAKEUP\_CONF\_REG (0x0064)

![Image](images/09_Chapter_9_img031_032b4d59.png)

RTC\_CNTL\_GPIO\_WAKEUP\_FILTER Set this bit to enable the GPIO wakeup event filter. (R/W)

Register 9.24. RTC\_CNTL\_SLP\_REJECT\_CONF\_REG (0x0068)

![Image](images/09_Chapter_9_img032_6859e3e0.png)

RTC\_CNTL\_SLEEP\_REJECT\_ENA Set this bit to enable reject-to-sleep. (R/W) RTC\_CNTL\_LIGHT\_SLP\_REJECT\_EN Set this bit to enable reject-to-light-sleep. (R/W) RTC\_CNTL\_DEEP\_SLP\_REJECT\_EN Set this bit to enable reject-to-deep-sleep. (R/W)

## Register 9.25. RTC\_CNTL\_CLK\_CONF\_REG (0x0070)

![Image](images/09_Chapter_9_img033_47605d6b.png)

RTC\_CNTL\_EFUSE\_CLK\_FORCE\_GATING Set this bit to FPU the eFuse clock gating. (R/W)

RTC\_CNTL\_EFUSE\_CLK\_FORCE\_NOGATING Set this bit to FPD the eFuse clock gating. (R/W)

- RTC\_CNTL\_FOSC\_DIV\_SEL\_VLD Synchronizes reg\_fosc\_div\_sel. Note that you have to invalidate the bus before modifying the frequency divider, then validate the new divider clock. (R/W)

RTC\_CNTL\_FOSC\_DIV Set the FOSC\_D256\_OUT divider. 00: divided by 128, 01: divided by 256, 10: divided by 512, 11: divided by 1024. (R/W)

RTC\_CNTL\_ENB\_FOSC Set this bit to disable FOSC and FOSC\_D256\_OUT. (R/W)

RTC\_CNTL\_ENB\_FOSC\_DIV Selects the FOSC\_D256\_OUT. 1: FOSC, 0: FOSC divided by 256. (R/W)

- RTC\_CNTL\_DIG\_XTAL32K\_EN Set this bit to enable CK\_XTAL\_32K clock for the digital system. (R/W)
- RTC\_CNTL\_DIG\_FOSC\_D256\_EN Set this bit to enable FOSC\_D256\_OUT clock for the digital system. (R/W)

RTC\_CNTL\_DIG\_FOSC\_EN Set this bit to enable FOSC for the digital system. (R/W)

RTC\_CNTL\_FOSC\_DIV\_SEL Stores the FOSC divider, which is reg\_FOSC\_div\_sel + 1. (R/W)

RTC\_CNTL\_XTAL\_FORCE\_NOGATING Set this bit to force no gating to crystal during sleep. (R/W)

RTC\_CNTL\_FOSC\_FORCE\_NOGATING Set this bit to disable force gating to crystal during sleep. (R/W)

Continued on the next page...

## Register 9.25. RTC\_CNTL\_CLK\_CONF\_REG (0x0070)

## Continued from the previous page...

RTC\_CNTL\_FOSC\_DFREQ Configures the FOSC frequency. (R/W)

RTC\_CNTL\_FOSC\_FORCE\_PD Set this bit to FPD FOSC. (R/W)

RTC\_CNTL\_FOSC\_FORCE\_PU Set this bit to FPU FOSC. (R/W)

RTC\_CNTL\_XTAL\_GLOBAL\_FORCE\_GATING Set this bit to force enable XTAL clock gating. (R/W)

RTC\_CNTL\_XTAL\_GLOBAL\_FORCE\_NOGATING Set this bit to force bypass the XTAL clock gating. (R/W)

RTC\_CNTL\_FAST\_CLK\_RTC\_SEL Selects the RTC fast clock. 0: XTAL\_DIV\_CLK, 1: RC\_FAST\_CLK div n. (R/W)

RTC\_CNTL\_ANA\_CLK\_RTC\_SEL Selects the RTC slow clock. 0: RC\_SLOW\_CLK, 1: XTAL32K\_CLK, 2: RC\_FAST\_DIV\_CLK. (R/W)

Register 9.26. RTC\_CNTL\_SLOW\_CLK\_CONF\_REG (0x0074)

![Image](images/09_Chapter_9_img034_70397e5a.png)

RTC\_CNTL\_ANA\_CLK\_DIV\_VLD Synchronizes the reg\_fosc\_div\_sel. Note that you have to invalidate the bus before modifying the frequency divider, and then validate the new divider clock. (R/W)

RTC\_CNTL\_ANA\_CLK\_DIV Configures the divider for the RTC clock. (R/W)4

## Register 9.27. RTC\_CNTL\_REG (0x0080)

![Image](images/09_Chapter_9_img035_6789e5fd.png)

RTC\_CNTL\_DIG\_REG\_CAL\_EN Set this bit to enable digital regulator calibration by software. (R/W)

RTC\_CNTL\_SCK\_DCAP Configures the RC\_SLOW\_CLK frequency. (R/W)

RTC\_CNTL\_REGULATOR\_FORCE\_PD Set this bit to FPD the low-power voltage regulator, which means decreasing its voltage to 0.8 V or lower. (R/W)

RTC\_CNTL\_REGULATOR\_FORCE\_PU Set this bit to FPU the low-power voltage regulator, which means increasing its voltage to higher than 0.8 V. (R/W)

Register 9.28. RTC\_CNTL\_PWC\_REG (0x0084)

![Image](images/09_Chapter_9_img036_724fe716.png)

RTC\_CNTL\_PAD\_FORCE\_HOLD Set this bit to force RTC pad into hold state. (R/W)

## Register 9.29. RTC\_CNTL\_DIG\_PWC\_REG (0x0088)

![Image](images/09_Chapter_9_img037_7bc5574e.png)

RTC\_CNTL\_VDD\_SPI\_PWR\_DRV Configures the vdd\_spi’s drive intensity. (R/W)

RTC\_CNTL\_VDD\_SPI\_PWR\_FORCE Set this bit to allow software to configure vdd\_spi's drive intensity. (R/W)

RTC\_CNTL\_LSLP\_MEM\_FORCE\_PD Set this bit to force the memories in the digital system not to enter retention mode in sleep. (R/W)

RTC\_CNTL\_LSLP\_MEM\_FORCE\_PU Set this bit to force the memories in the digital system into retention mode in sleep. (R/W)

RTC\_CNTL\_DG\_PERI\_FORCE\_PD Set this bit to FPD the digital peripherals. (R/W)

RTC\_CNTL\_DG\_PERI\_FORCE\_PU Set this bit to FPU the digital peripherals. (R/W)

RTC\_CNTL\_FASTMEM\_FORCE\_LPD Set this bit to force the fast memory not to enter retention mode in sleep. (R/W)

RTC\_CNTL\_FASTMEM\_FORCE\_LPU Set this bit to force the fast memory into retention mode in sleep. (R/W)

RTC\_CNTL\_WIFI\_FORCE\_PD Set this bit to FPD wireless. (R/W)

RTC\_CNTL\_WIFI\_FORCE\_PU Set this bit to FPU wireless. (R/W)

RTC\_CNTL\_DG\_WRAP\_FORCE\_PD Set this bit to FPD the digital system. (R/W)

RTC\_CNTL\_DG\_WRAP\_FORCE\_PU Set this bit to FPU the digital system. (R/W)

RTC\_CNTL\_CPU\_TOP\_FORCE\_PD Set this bit to FPD the CPU. (R/W)

RTC\_CNTL\_CPU\_TOP\_FORCE\_PU Set this bit to FPU the CPU. (R/W)

RTC\_CNTL\_DG\_PERI\_PD\_EN Set this bit to enable FPD digital peripherals in sleep. (R/W)

RTC\_CNTL\_CPU\_TOP\_PD\_EN Set this bit to enable FPD CPU in sleep. (R/W)

RTC\_CNTL\_WIFI\_PD\_EN Set this bit to enable FPD wireless in sleep. (R/W)

RTC\_CNTL\_DG\_WRAP\_PD\_EN Set this bit to enable FPD digital system in sleep. (R/W)

## Register 9.30. RTC\_CNTL\_DIG\_ISO\_REG (0x008C)

![Image](images/09_Chapter_9_img038_e94f062f.png)

RTC\_CNTL\_DG\_PAD\_AUTOHOLD Indicates the auto-hold status of the digital GPIOs. (RO)

RTC\_CNTL\_CLR\_DG\_PAD\_AUTOHOLD Set this bit to clear the auto-hold enabler for the digital GPIOs. (WO)

RTC\_CNTL\_DG\_PAD\_AUTOHOLD\_EN Set this bit to allow the digital GPIOs to enter the auto-hold status. (R/W)

RTC\_CNTL\_DG\_PAD\_FORCE\_NOISO Set this bit to disable the force isolation of the digital GPIOs. (R/W)

RTC\_CNTL\_DG\_PAD\_FORCE\_ISO Set this bit to force isolation of the digital GPIOs. (R/W)

RTC\_CNTL\_DG\_PAD\_FORCE\_UNHOLD Set this bit the force unhold the digital GPIOs. (R/W)

RTC\_CNTL\_DG\_PAD\_FORCE\_HOLD Set this bit the force hold the digital GPIOs. (R/W)

RTC\_CNTL\_DG\_PERI\_FORCE\_ISO Set this bit to force isolation of the digital peripherals. (R/W)

RTC\_CNTL\_DG\_PERI\_FORCE\_NOISO Set this bit to disable the force isolation of the digital peripherals. (R/W)

RTC\_CNTL\_CPU\_TOP\_FORCE\_ISO Set this bit to force hold the CPU. (R/W)

RTC\_CNTL\_CPU\_TOP\_FORCE\_NOISO Set this bit to force unhold the CPU. (R/W)

RTC\_CNTL\_WIFI\_FORCE\_ISO Set this bit to force isolation of the wireless circuits. (R/W)

RTC\_CNTL\_WIFI\_FORCE\_NOISO Set this bit to disable the force isolation of the wireless circuits. (R/W)

RTC\_CNTL\_DG\_WRAP\_FORCE\_ISO Set this bit to force isolation of the digital system. (R/W)

RTC\_CNTL\_DG\_WRAP\_FORCE\_NOISO Set this bit to disable the force isolation of the digital system. (R/W)

Register 9.31. RTC\_CNTL\_WDTCONFIG0\_REG (0x0090)

![Image](images/09_Chapter_9_img039_03d2192d.png)

RTC\_CNTL\_WDT\_PAUSE\_IN\_SLP Set this bit to pause the watchdog in sleep. (R/W)

RTC\_CNTL\_WDT\_PROCPU\_RESET\_EN enable WDT reset CPU (R/W)

RTC\_CNTL\_WDT\_FLASHBOOT\_MOD\_EN Set this bit to enable watchdog when the chip boots from flash. (R/W)

RTC\_CNTL\_WDT\_SYS\_RESET\_LENGTH Sets the length of the system reset counter. (R/W)

RTC\_CNTL\_WDT\_CPU\_RESET\_LENGTH Sets the length of the CPU reset counter. (R/W)

RTC\_CNTL\_WDT\_STG3 1: enable at the interrupt stage, 2: enable at the CPU stage, 3: enable at the system stage, 4: enable at the system and RTC stage. (R/W)

RTC\_CNTL\_WDT\_STG2 1: enable at the interrupt stage, 2: enable at the CPU stage, 3: enable at the system stage, 4: enable at the system and RTC stage. (R/W)

RTC\_CNTL\_WDT\_STG1 1: enable at the interrupt stage, 2: enable at the CPU stage, 3: enable at the system stage, 4: enable at the system and RTC stage. (R/W)

RTC\_CNTL\_WDT\_STG0 1: enable at the interrupt stage, 2: enable at the CPU stage, 3: enable at the system stage, 4: enable at the system and RTC stage. (R/W)

RTC\_CNTL\_WDT\_EN Set this bit to enable the RTC watchdog. (R/W)

Register 9.32. RTC\_CNTL\_WDTCONFIG1\_REG (0x0094)

![Image](images/09_Chapter_9_img040_caf5b9d3.png)

RTC\_CNTL\_WDT\_STG0\_HOLD Configures the hold time of RTC watchdog at level 1. (R/W)

![Image](images/09_Chapter_9_img041_6e8b5b5f.png)

![Image](images/09_Chapter_9_img042_4a6ecb3a.png)

Register 9.36. RTC\_CNTL\_WDTFEED\_REG (0x00A4)

![Image](images/09_Chapter_9_img043_921f55ef.png)

RTC\_CNTL\_WDT\_WKEY If the register contains a different value than 0x50d83aa1, write protection for the RTC watchdog (RWDT) is enabled. (R/W)

## Register 9.38. RTC\_CNTL\_SWD\_CONF\_REG (0x00AC)

![Image](images/09_Chapter_9_img044_fd90aec4.png)

RTC\_CNTL\_SWD\_RESET\_FLAG Indicates the super watchdog reset flag. (RO)

RTC\_CNTL\_SWD\_FEED\_INT Receiving this interrupt leads to feeding the super watchdog via SW. (RO)

RTC\_CNTL\_SWD\_BYPASS\_RST Set this bit to bypass super watchdog reset. (R/W)

RTC\_CNTL\_SWD\_SIGNAL\_WIDTH Adjusts the signal width sent to the super watchdog. (R/W)

RTC\_CNTL\_SWD\_RST\_FLAG\_CLR Set to reset the super watchdog reset flag. (WO)

RTC\_CNTL\_SWD\_FEED Set to feed the super watchdog via SW. (WO)

RTC\_CNTL\_SWD\_DISABLE Set this bit to disable super watchdog. (R/W)

RTC\_CNTL\_SWD\_AUTO\_FEED\_EN Set this bit to enable automatic watchdog feeding upon interrupts. (R/W)

Register 9.39. RTC\_CNTL\_SWD\_WPROTECT\_REG (0x00B0)

![Image](images/09_Chapter_9_img045_ec8b53ef.png)

RTC\_CNTL\_SWD\_WKEY Sets the write protection key of the super watchdog. (R/W)

Register 9.40. RTC\_CNTL\_SW\_CPU\_STALL\_REG (0x00B4)

![Image](images/09_Chapter_9_img046_f67a60e1.png)

RTC\_CNTL\_SW\_STALL\_PROCPU\_C1 When RTC\_CNTL\_SW\_STALL\_PROCPU\_C0 is configured to 0x2, setting this bit to 0x21 stalls the CPU by SW. (R/W)

Register 9.41. RTC\_CNTL\_STORE4\_REG (0x00B8)

![Image](images/09_Chapter_9_img047_2686142c.png)

RTC\_CNTL\_SCRATCH4 Reservation register 4. (R/W)

Register 9.42. RTC\_CNTL\_STORE5\_REG (0x00BC)

![Image](images/09_Chapter_9_img048_16403097.png)

RTC\_CNTL\_SCRATCH5 Reservation register 5. (R/W)

## Register 9.43. RTC\_CNTL\_STORE6\_REG (0x00C0)

RTC\_CNTL\_SCRATCH6

![Image](images/09_Chapter_9_img049_38889f28.png)

RTC\_CNTL\_SCRATCH6 Reservation register 6. (R/W)

Register 9.44. RTC\_CNTL\_STORE7\_REG (0x00C4)

![Image](images/09_Chapter_9_img050_848cd8ff.png)

RTC\_CNTL\_SCRATCH7 Reservation register 7. (R/W)

## Register 9.45. RTC\_CNTL\_LOW\_POWER\_ST\_REG (0x00C8)

![Image](images/09_Chapter_9_img051_168a6932.png)

RTC\_CNTL\_RDY\_FOR\_WAKEUP Indicates the RTC is ready to be triggered by any wakeup source. (RO)

RTC\_CNTL\_MAIN\_STATE\_IN\_IDLE Indicates the RTC state.

- 0: the chip can be either
- – in sleep modes.
- – entering sleep modes. In this case, wait until RTC\_CNTL\_RDY\_FOR\_WAKEUP bit is set, then you can wake up the chip.
- – exiting sleep mode. In this case, RTC\_CNTL\_MAIN\_STATE\_IN\_IDLE will eventually become 1.
- 1: the chip is not in sleep modes (i.e. running normally).

(RO)

Register 9.46. RTC\_CNTL\_PAD\_HOLD\_REG (0x00D0)

![Image](images/09_Chapter_9_img052_2cbf7113.png)

RTC\_CNTL\_GPIO\_PIN0\_HOLD Sets the GPIO 0 to the holding state. (R/W)

RTC\_CNTL\_GPIO\_PIN1\_HOLD Sets the GPIO 1 to the holding state. (R/W)

RTC\_CNTL\_GPIO\_PIN2\_HOLD Sets the GPIO 2 to the holding state. (R/W)

RTC\_CNTL\_GPIO\_PIN3\_HOLD Sets the GPIO 3 to the holding state. (R/W)

RTC\_CNTL\_GPIO\_PIN4\_HOLD Sets the GPIO 4 to the holding state. (R/W)

RTC\_CNTL\_GPIO\_PIN5\_HOLD Sets the GPIO 5 to the holding state. (R/W)

## Register 9.47. RTC\_CNTL\_DIG\_PAD\_HOLD\_REG (0x00D4)

![Image](images/09_Chapter_9_img053_26eb1c06.png)

RTC\_CNTL\_DIG\_PAD\_HOLD Set GPIO 6 to GPIO 21 to the holding state. (See bitmap to locate any GPIO). (R/W)

## Register 9.48. RTC\_CNTL\_BROWN\_OUT\_REG (0x00D8)

![Image](images/09_Chapter_9_img054_5f2c1697.png)

- RTC\_CNTL\_BROWN\_OUT\_INT\_WAIT Configures the waiting cycles before sending an interrupt. (R/W)

RTC\_CNTL\_BROWN\_OUT\_CLOSE\_FLASH\_ENA Set this bit to enable PD the flash when a brownout happens. (R/W)

RTC\_CNTL\_BROWN\_OUT\_PD\_RF\_ENA Set this bit to enable PD the RF circuits when a brown-out happens. (R/W)

- RTC\_CNTL\_BROWN\_OUT\_RST\_WAIT Configures the waiting cycles before the reset after a brownout. (R/W)

RTC\_CNTL\_BROWN\_OUT\_RST\_ENA Enables to reset brown-out. (R/W)

- RTC\_CNTL\_BROWN\_OUT\_RST\_SEL Selects the reset type when a brown-out happens. 1: chip reset, 0: system reset. (R/W)

RTC\_CNTL\_BROWN\_OUT\_ANA\_RST\_EN Enables to reset brown-out. (R/W)

RTC\_CNTL\_BROWN\_OUT\_CNT\_CLR Clears the brown-out counter. (WO)

RTC\_CNTL\_BROWN\_OUT\_ENA Set this bit to enable brown-out detection. (R/W)

- RTC\_CNTL\_BROWN\_OUT\_DET Indicates the status of the brown-out signal. (RO)

## Register 9.49. RTC\_CNTL\_TIME\_LOW1\_REG (0x00DC)

![Image](images/09_Chapter_9_img055_095ab0a6.png)

RTC\_CNTL\_TIMER\_VALUE1\_LOW Stores the lower 32 bits of RTC timer 1. (RO)

Register 9.50. RTC\_CNTL\_TIME\_HIGH1\_REG (0x00E0)

![Image](images/09_Chapter_9_img056_bd7ff931.png)

RTC\_CNTL\_TIMER\_VALUE1\_HIGH Stores the higher 16 bits of RTC timer. (RO)

Register 9.51. RTC\_CNTL\_XTAL32K\_CLK\_FACTOR\_REG (0x00E4)

![Image](images/09_Chapter_9_img057_ddf8c99a.png)

RTC\_CNTL\_XTAL32K\_CLK\_FACTOR Configures the divider factor for the XTAL32K oscillator. (R/W)

Register 9.52. RTC\_CNTL\_XTAL32K\_CONF\_REG (0x00E8)

![Image](images/09_Chapter_9_img058_be089a51.png)

- RTC\_CNTL\_XTAL32K\_RETURN\_WAIT Defines the waiting cycles before returning to the normal XTAL32K oscillator. (R/W)

RTC\_CNTL\_XTAL32K\_RESTART\_WAIT Defines the waiting cycles before restarting the XTAL32K oscillator. (R/W)

- RTC\_CNTL\_XTAL32K\_WDT\_TIMEOUT Defines the waiting period for clock detection. If no clock is detected after this period, the XTAL32K oscillator can be regarded as dead. (R/W)
- RTC\_CNTL\_XTAL32K\_STABLE\_THRES Defines the allowed restarting period, within which the XTAL32K oscillator can be regarded as stable. (R/W)

Register 9.53. RTC\_CNTL\_USB\_CONF\_REG (0x00EC)

![Image](images/09_Chapter_9_img059_a4e51d40.png)

RTC\_CNTL\_IO\_MUX\_RESET\_DISABLE Set this bit to disable io\_mux reset. (R/W)

![Image](images/09_Chapter_9_img060_277b7e5d.png)

Register 9.54. RTC\_CNTL\_SLP\_REJECT\_CAUSE\_REG (0x00F0)

![Image](images/09_Chapter_9_img061_4fa5a2a4.png)

## Register 9.57. RTC\_CNTL\_INT\_ENA\_RTC\_W1TS\_REG (0x0100)

![Image](images/09_Chapter_9_img062_36540131.png)

- RTC\_CNTL\_SLP\_WAKEUP\_INT\_ENA\_W1TS Enables interrupts when the chip wakes up from sleep by writing 1 to set (W1TS). (WO)
- RTC\_CNTL\_SLP\_REJECT\_INT\_ENA\_W1TS Enables interrupts when the chip rejects to go to sleep by writing 1 to set (W1TS). (WO)
- RTC\_CNTL\_WDT\_INT\_ENA\_W1TS Enables the RTC watchdog interrupt by writing 1 to set (W1TS). (WO)
- RTC\_CNTL\_BROWN\_OUT\_INT\_ENA\_W1TS Enables the brownout interrupt by writing 1 to set. (WO)
- RTC\_CNTL\_MAIN\_TIMER\_INT\_ENA\_W1TS Enables the RTC main timer interrupt by writing 1 to set (W1TS). (WO)
- RTC\_CNTL\_SWD\_INT\_ENA\_W1TS Enables the super watchdog interrupt by writing 1 to set (W1TS). (WO)
- RTC\_CNTL\_XTAL32K\_DEAD\_INT\_ENA\_W1TS Enables interrupts when the XTAL32K is dead by writing 1 to set (W1TS). (WO)
- RTC\_CNTL\_GLITCH\_DET\_INT\_ENA\_W1TS Enables interrupts when a glitch is detected by writing 1 to set (W1TS). (WO)
- RTC\_CNTL\_BBPLL\_CAL\_INT\_ENA\_W1TS Enables interrupts upon the ending of a bb\_pll call by writing 1 to set (W1TS). (WO)

## Register 9.58. RTC\_CNTL\_INT\_ENA\_RTC\_W1TC\_REG (0x0104)

![Image](images/09_Chapter_9_img063_d61314be.png)

- RTC\_CNTL\_SLP\_WAKEUP\_INT\_ENA\_W1TC Clear the interrupt enable bit when the chip wakes up from sleep by writing 1 to clear. (W1TC). (WO)
- RTC\_CNTL\_SLP\_REJECT\_INT\_ENA\_W1TC Clear the interrupt enable bit when the chip rejects to go to sleep by writing 1 to clear (W1TC). (WO)
- RTC\_CNTL\_WDT\_INT\_ENA\_W1TC Clear the RTC watchdog interrupt enable bit by writing 1 to clear (W1TC). (WO)
- RTC\_CNTL\_BROWN\_OUT\_INT\_ENA\_W1TC Clear the brownout interrupt enable bit by writing 1 to clear (W1TC). (WO)
- RTC\_CNTL\_MAIN\_TIMER\_INT\_ENA\_W1TC Clear the RTC timer interrupt enable bit by writing 1 to clear. (W1TC). (WO)
- RTC\_CNTL\_SWD\_INT\_ENA\_W1TC Clear the super watchdog interrupt enable bit by writing 1 to clear (W1TC). (WO)
- RTC\_CNTL\_XTAL32K\_DEAD\_INT\_ENA\_W1TC Clear the interrupt enable bit when the XTAL32K is dead by writing 1 to clear (W1TC). (WO)
- RTC\_CNTL\_GLITCH\_DET\_INT\_ENA\_W1TC Clear the interrupt enable bit when a glitch is detected by writing 1 to clear (W1TC). (WO)
- RTC\_CNTL\_BBPLL\_CAL\_INT\_ENA\_W1TC Clear the interrupt enable bit upon the ending of a bb\_pll call by writing 1 to clear (W1TC).(WO)

## Register 9.59. RTC\_CNTL\_RETENTION\_CTRL\_REG (0x0108)

![Image](images/09_Chapter_9_img064_cac1cb64.png)

RTC\_CNTL\_RETENTION\_CLK\_SEL Selects the retention clock. 0: RC\_FAST\_CLK; 1: XTAL\_CLK. (R/W)

RTC\_CNTL\_RETENTION\_EN Set to enable the CPU retention in light sleep. (R/W)

## Register 9.60. RTC\_CNTL\_GPIO\_WAKEUP\_REG (0x0110)

![Image](images/09_Chapter_9_img065_85909111.png)

RTC\_CNTL\_GPIO\_WAKEUP\_STATUS Indicates the RTC GPIO that woke up the chip, with Bit0 to Bit5 representing RTC GPIO 0 to RTC GPIO 5, respectively. For example, 010000 indicates it is the RTC GPIO 4 that woke up the chip. (RO)

RTC\_CNTL\_GPIO\_WAKEUP\_STATUS\_CLR Clears the RTC GPIO wakeup flag. (R/W)

RTC\_CNTL\_GPIO\_PIN\_CLK\_GATE Enables the RTC GPIO clock gate. (R/W)

RTC\_CNTL\_GPIO\_PIN5\_INT\_TYPE Configures RTC GPIO 5 wakeup type.

- 0: disable wakeup by RTC GPIO
- 1: wake up the chip upon the rising edge
- 2: wake up the chip upon the failing edge
- 3: wake up the chip upon the rising edge or the failing edge
- 4: wake up the chip upon low level
- 5: wake up the chip upon high level (R/W)

## RTC\_CNTL\_GPIO\_PIN4\_INT\_TYPE Configures RTC GPIO 4 wakeup type.

- 0: disable wakeup by RTC GPIO
- 1: wake up the chip upon the rising edge
- 2: wake up the chip upon the failing edge
- 3: wake up the chip upon the rising edge or the failing edge
- 4: wake up the chip upon low level
- 5: wake up the chip upon high level (R/W)

## RTC\_CNTL\_GPIO\_PIN3\_INT\_TYPE Configures RTC GPIO 3 wakeup type.

- 0: disable wakeup by RTC GPIO
- 1: wake up the chip upon the rising edge
- 2: wake up the chip upon the failing edge
- 3: wake up the chip upon the rising edge or the failing edge
- 4: wake up the chip upon low level
- 5: wake up the chip upon high level (R/W)

Continued on the next page...

## Register 9.60. RTC\_CNTL\_GPIO\_WAKEUP\_REG (0x0110)

## Continued from the previous page...

## RTC\_CNTL\_GPIO\_PIN2\_INT\_TYPE Configures RTC GPIO 2 wakeup type.

- 0: disable wakeup by RTC GPIO
- 1: wake up the chip upon the rising edge
- 2: wake up the chip upon the failing edge
- 3: wake up the chip upon the rising edge or the failing edge
- 4: wake up the chip upon low level
- 5: wake up the chip upon high level

(R/W)

## RTC\_CNTL\_GPIO\_PIN1\_INT\_TYPE Configures RTC GPIO 1 wakeup type.

- 0: disable wakeup by RTC GPIO
- 1: wake up the chip upon the rising edge
- 2: wake up the chip upon the failing edge
- 3: wake up the chip upon the rising edge or the failing edge
- 4: wake up the chip upon low level
- 5: wake up the chip upon high level

(R/W)

## RTC\_CNTL\_GPIO\_PIN0\_INT\_TYPE Configures RTC GPIO 0 wakeup type.

- 3: wake up the chip upon the rising edge or the failing edge
- 0: disable wakeup by RTC GPIO 1: wake up the chip upon the rising edge 2: wake up the chip upon the failing edge 4: wake up the chip upon low level
- 5: wake up the chip upon high level (R/W)

RTC\_CNTL\_GPIO\_PIN5\_WAKEUP\_ENABLE Enables wakeup from RTC GPIO 5. (R/W)

RTC\_CNTL\_GPIO\_PIN4\_WAKEUP\_ENABLE Enables wakeup from RTC GPIO 4. (R/W)

RTC\_CNTL\_GPIO\_PIN3\_WAKEUP\_ENABLE Enables wakeup from RTC GPIO 3. (R/W)

RTC\_CNTL\_GPIO\_PIN2\_WAKEUP\_ENABLE Enables wakeup from RTC GPIO 2. (R/W)

RTC\_CNTL\_GPIO\_PIN1\_WAKEUP\_ENABLE Enables wakeup from RTC GPIO 1. (R/W)

RTC\_CNTL\_GPIO\_PIN0\_WAKEUP\_ENABLE Enables wakeup from RTC GPIO 0. (R/W)

![Image](images/09_Chapter_9_img066_18cc466c.png)
